<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Modern JavaScript Stack</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/peacock.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<!-- Intro -->
				<section>
					<h1>Modern JavaScript Stack</h1>
					<small class='emph'>PART 1</small>
					<p>
						Package Managers, Transpilers <br> and Module Bundlers
					</p>
					<br>
					<small>by <span class='emph'>Gali</span></small>

					<aside class="notes">
						<li>Know state of JavaScript these days</li>
						<li>Familiarize with some technologies</li>
					</aside>
				</section>
				<section data-background-image='img/stackoverflow-survey.png' data-background-size="1000px">
				</section>
				<section data-background-image='img/github-octoverse.png' data-background-size="1000px">
				</section>
				<section data-background-color="#000">
					<img src='img/js-devs.jpg' style='width: 65%; height: 65%;'/>
				</section>
				<section data-background-color="#fff" data-background-image='img/js-tools.png' data-background-size="800px" data-background-repeat='repeat'>
				</section>
				<section>
					<h1>"JavaScript Fatigue"</h1>

					<aside class="notes">
						Can't learn all of these in one go.<br>
						But all these tools solve a problem or a need for general purpose programming.<br>
						
					</aside>
				</section>
				<section data-background-image='img/ecosystem-diagram.png' data-background-size="800px">
					<aside class="notes">
						In this training, we will:
						<li>Know these problems/needs and what tools solve them</li>
						<li>Why it can solve the problem tapos alternatives.</li>
					</aside>
				</section>
				
				<!-- Node.js -->
				<section>
					<div>
						<img src='img/nodejs-logo.png' class='plain' style='width: 30%; height: 30%;'/>
					</div>
					<p class="fragment">JavaScript runtime environment</p>
					<p class="fragment">uses Chrome's V8 JavaScript engine</p>
					<p class="fragment">Non-blocking</p>
					<p class="fragment">For servers and applications</p>
					<p class="fragment">Comes with NPM</p>


					<aside class="notes">
						<li>Before we can only run JS code in browsers</li>
						<li>2009, JSConf EU</li>
						<li>Started JS hype</li>
					</aside>
				</section>
				
				<!-- NPM registry -->
				<section>
					<h1>npm</h1>
				</section>
				<section data-background-image='img/npm-site.png' data-background-size="100%">
				</section>
				<section>
					<a target='_blank' href="http://www.modulecounts.com/">modulecounts.com</a>

					<aside class="notes">
						<li>Reuse code for a lot of purposes</li>
						<li>Con: security risk</li>
					</aside>
				</section>

				<!-- Package Managers -->
				<section>
					<h2>Package</h2>
					<p class="fragment">directory of files</p>
					<p class="fragment emph">package.json</p>
					<p class="fragment">depends on other packages</p>

					<aside class="notes">
						Code Reuse
						<li>Saves time</li>
						<li>Expertise from outside the organization</li>
					</aside>
				</section>

				<section>
					<section>
						<div>
							<img src='img/npm-logo.png' class='plain' style='width: 30%; height: 30%;'/>
						</div>
						<p class="fragment">the command line interface (CLI)</p>

						<aside class="notes">
							<li>put dependencies in place so that node can find them</li>
							<li>manage dependency conflicts</li>
						</aside>
					</section>

					<section>
						<h2>Commands</h2>
						<table style='font-size: 30px'>
							<thead>
								<tr>
									<th>command</th>
									<th>what it does</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><code>npm init</code></td>
									<td>create a new npm package</td>
								</tr>
								<tr>
									<td><code>npm install</code></td>
									<td>install package.json deps in local node_modules folder</td>
								</tr>
								<tr>
									<td><code>npm install &lt;package&gt;</code></td>
									<td>install a package in local node_modules folder</td>
								</tr>
								<tr>
									<td><code>npm install -g &lt;package&gt;</code></td>
									<td>install a package in globally</td>
								</tr>
							</tbody>
						</table>

						<aside class="notes">
							Demo
							<li>npm init</li>
						</aside>
					</section>

					<section>
						<h2>Commands</h2>
						<table style='font-size: 30px'>
							<thead>
								<tr>
									<th>command</th>
									<th>what it does</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><code>npm install --save &lt;package&gt;</code></td>
									<td>installs package locally, saves as dependencies in package.json</td>
								</tr>
								<tr>
									<td><code>npm install --save-dev &lt;package&gt;</code></td>
									<td>installs package locally, saves as devDependencies in package.json</td>
								</tr>
								<tr>
									<td><code>npm uninstall --save &lt;package&gt;</code></td>
									<td>removes package locally, deletes as dependencies in package.json</td>
								</tr>
								<tr>
									<td><code>npm uninstall --save-dev &lt;package&gt;</code></td>
									<td>removes package locally, deletes as devDependencies in package.json</td>
								</tr>
							</tbody>
						</table>

						<aside class="notes">
							Demo
							<li>npm install --save smallest</li>
							<li>npm install --save-dev decamelize</li>
							<li>rm -rf node_modules</li>
							<li>npm install</li>
							<li>rm -rf node_modules</li>
							<li>npm install --production</li>
						</aside>
					</section>

					<section>
						<h2>SemVer</h2>
						<h4>
							<span class='emph'>MAJOR</span>.
							<span class='emph'>MINOR</span>.
							<span class='emph'>PATCH</span>
						</h4>
					</section>

					<section>
						<img src='img/semver.jpg' style='width: 85%; height: 85%;' />
					</section>

					<section>
						<h2>
							<span class='emph'>~</span>3.2.4 === 3.2.<span class='emph'>*</span>
						</h2>
						<h2>
							<span class='emph'>^</span>3.2.4 === 3.<span class='emph'>*</span>.<span class='emph'>*</span>
						</h2>

						<aside class='notes'>
							Show sample package.json with tildes and carets
						</aside>
					</section>

					<section>
						<img src='img/works-on-my-machine.jpg' class='plain' />

						<aside class='notes'>
							<li>Not all maintainers comply</li>
							<li>Human error</li>
						</aside>
					</section>

					<section>
						<div>
							<img src='img/yarn-logo.png' class='plain-white' style='width: 50%; height: 50%;' />
						</div>
						<p class="fragment">alternative to npm client</p>
						<p class="fragment">October 2016</p>
						<p class="fragment">by Facebook in collab with Exponent, Tilde and Google</p>
						<p class="fragment">still uses npm registry</p>


						<aside class="notes">
							<li>speed, reliability and security no longer met by npm</li>
							<li>Facebook CI is cut-off from internet</li>
							<li>Tried to commit node_modules</li>
						</aside>
					</section>

					<section>
						<h2>Installation</h2>
						<div><a target='_blank' href='https://yarnpkg.com/latest.msi'>https://yarnpkg.com/latest.msi</a></div>
						<div><code>choco install yarn</code></div>
						<div><code>npm install -g yarn</code></div>
					</section>

					<section>
						<h2>Commands</h2>
						<table style='font-size: 30px'>
							<thead>
								<tr>
									<th>npm</th>
									<th>yarn</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><code>npm init</code></td>
									<td><code>yarn init</code></td>
								</tr>
								<tr>
									<td><code>npm install</code></td>
									<td><code>yarn</code></td>
								</tr>
								<tr>
									<td><code>npm install &lt;package&gt;</code></td>
									<td><code>yarn add &lt;package&gt;</code></td>
								</tr>
								<tr>
									<td><code>npm install -g &lt;package&gt;</code></td>
									<td><code>yarn global add &lt;package&gt;</code></td>
								</tr>
							</tbody>
						</table>

						<aside class="notes">
							Demo
							<li>yarn init</li>
						</aside>
					</section>

					<section>
						<h2>Commands</h2>
						<table style='font-size: 30px'>
							<thead>
								<tr>
									<th>npm</th>
									<th>yarn</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><code>npm install --save &lt;package&gt;</code></td>
									<td><code>yarn add &lt;package&gt;</code></td>
								</tr>
								<tr>
									<td><code>npm install --save-dev &lt;package&gt;</code></td>
									<td><code>yarn add --dev &lt;package&gt;</code></td>
								<tr>
									<td><code>npm uninstall --save &lt;package&gt;</code></td>
									<td><code>yarn remove &lt;package&gt;</code></td>
								</tr>
							</tbody>
						</table>

						<aside class="notes">
							Demo
							<li>yarn add smallest</li>
							<li>yarn add --dev decamelize</li>
							<li>rm -rf node_modules</li>
							<li>yarn</li>
							<li>rm -rf node_modules</li>
							<li>yarn install --production</li>
						</aside>
					</section>

					<section data-background-image='img/yarn-benefits.png' data-background-size="100%">
						<aside class='notes'>
							<li>offline mode - succeeding installs will not require internet</li>
							<li>deterministic - through yarn.lock</li>
							<li>follow specific steps to achieve parallel install and speed</li>
							<li>same packages - mirrored from npm registry</li>
							<li>flat - avoid duplicates, will ask for user input</li>
						</aside>
					</section>

					<section>
						<h2><code class='emph'>yarn.lock</code></h2>
					</section>

					<section>
						<h2>Speed</h2>
						<div>
							<img src='img/yarn-vs-npm.png' />
						</div>
						<small>installing <code class='emph'>express</code></small><br>
						<small>source: 
							<a target='_blank' href='https://medium.com/@nikjohn/facebooks-yarn-vs-npm-is-yarn-really-better-1890b3ea6515'>
								<em>’s Yarn vs npm — Is Yarn really better?</em>, Nikhil John, medium.com
							</a>
						</small>
					</section>

					<section>
						<h2>in comes <span class='emph'>npm@5</span></h2>
						<p class='fragment'>May 2017</p>
					</section>

					<section>
						<h2><span class='emph'>npm@5</span> features</h2>
						<li class='fragment emph'><code>package-lock.json</code></li>
						<li class='fragment'><code class='emph'>--save</code> is now default</li>
						<li class='fragment'>no installed tree displayed</li>
						<li class='fragment'>significantly faster</li>
						<li class='fragment'>option for offline installs</li>
					</section>

					<section>
						<code class='emph'>--prefer-offline</code><br>
						<code class='emph'>--offline</code>
					</section>

					<section>
						<h2>speed improvements</h2>
						<video data-src="https://video.twimg.com/tweet_video/DAJ-VtyUQAAVGtQ.mp4" type="video/mp4" data-autoplay>
						</video>
					</section>

					<section>
						<h2>Speed</h2>
						<div>
							<img src='img/yarn-vs-npm5.png' style='width: 55%; height: 55%' />
						</div>
						<small>installing <code class='emph'>express-generator</code></small><br>
						<small>source: 
							<a target='_blank' href='https://medium.com/netscape/npm-5-yarn-killer-ba69737b24d0'>
								<em>npm@5 — Yarn killer?</em>, Nikhil John, medium.com/netscape
							</a>
						</small>
					</section>

					<section>
						<h1>Quiz!</h1>
						<h3>Go to <a target='_blank' href='https://play.kahoot.it/#/?quizId=0f46e5be-5115-437f-b985-f0a45f7ffb17'>https://kahoot.it/</a></h3>
					</section>
				</section>

				<section>
					<section>
						<h2>JavaScript Engines</h2>
						<table>
							<tbody>
								<tr>
									<td>Chrome</td>
									<td>V8</td>
								</tr>
								<tr>
									<td>Firefox</td>
									<td>SpiderMonkey</td>
								</tr>
								<tr>
									<td>Safari</td>
									<td>JavaScriptCore</td>
								</tr>
								<tr>
									<td>Edge</td>
									<td>Chakra</td>
								</tr>
							</tbody>
						</table>
						<aside class='notes'>
							<li>converts JavaScript code to optimized code for the browser</li>
							<li>different implementation but follow ECMAScript Specification</li>
							<li>each engine constantly evolve, pabilisan</li>
						</aside>
					</section>
					<section>
						<h2>ECMAScript Specification <small class='emph'>(ECMA-262)</small></span><h2>
						
						<aside class='notes'>
							<li>standardized by Ecma International</li>
						</aside>
					</section>
					<section>
						<h2>ECMA Technical Committee 39 <small class='emph'>(TC39)</small></span><h2>
						
						<aside class='notes'>
							<li>responsible for evolving specifications</li>
							<li>holds 3-day meetings every couple of months</li>
							<li>proposing changes, maturity stages</li>
						</aside>
					</section>
					<section>
						<h2><a target='_blank' href='https://tc39.github.io/process-document/'>The TC39 Process</a><h2>

						<aside class='notes'>
							5 maturity stages
						</aside>
					</section>
					<section>
						<h4>Problem:</h4>
						<h2>JavaScript engines don't comply right away</h2>
						<h4><a target='_blank' href='https://kangax.github.io/compat-table/es6/'>https://kangax.github.io/compat-table/es6/</a></h4>

						<aside class='notes'>
							many factors to consider, optimization<br>
							as a result, can't write cutting-edge JS
						</aside>
					</section>
					<section>
						<div>
							<img src='img/babel-logo.png' class='plain' style='width: 50%; height: 50%;' />
						</div>
					</section>
					<section>
						<h3><em>compiler for writing next-generation JavaScript</em></h3>

						<aside class='notes'>
							transpiling ES6 code (or any next-gen code) to ES5 which has more consistent support across browsers

							<li>compiler -> one language - another language</li>
							<li>transpiler -> one language - another language, same level of abstraction</li>
						</aside>
					</section>
					<section>
						<img src='img/babel-sample-1.png' class='plain' style='width: 40%' />
						<img src='img/arrow-right.png' class='plain' style='width: 5%' />
						<img src='img/babel-sample-2.png' class='plain' style='width: 40%; margin: 1px auto;' />
					</section>
					<section>
						<h2>tool for manipulating Abstract Syntax Tree (AST)</h2>
					</section>
					<section>
						<h2>what's AST?</h2>
						<p>
							logical structure of the program represented through a tree
						</p>

						<aside class='notes'>
							<li>representation of program throughout varios stages of compilation</li>
							<li>think of it like JSON</li>
							<li>already stripped with punctuation, delimiters, braces</li>
							show AST explorer
						</aside>
					</section>
					<section>
						<h2>Stages of Compilation</h2>
						<img src='img/compilation-steps.png' class='plain' style='width: 80%' />
					</section>
					<section>
						<table>
							<tbody>
								<tr>
									<td>parser</td>
									<td><code>babylon</code></td>
								</tr>
								<tr>
									<td>transformer</td>
									<td><a href='https://babeljs.io/docs/plugins/#transform-plugins'>transform plugins</a></td>
								</tr>
								<tr>
									<td>generator</td>
									<td><code>babel-generator</code>, <code>prettier</code></td>
								</tr>
							</tbody>
						</table>
					</section>
					<!-- 

					-->
				</section>

				

				<!--
					https://scotch.io/@brian_kimo/npm-vs-yarn
				-->
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
